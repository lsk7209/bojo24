# 컨텐츠 생성 방식 요약

## 📋 현재 구현된 컨텐츠 생성 방식

### 1. **Gemini로 보완되는 섹션** (하이브리드 방식)

#### ✅ 핵심 요약 (Summary)
- **조건**: 공공데이터가 200자 미만일 때
- **방식**: 공공데이터 + Gemini 보완
- **결과**: 상세하고 사용자 친화적인 요약

#### ✅ 지원 대상 (Target)
- **조건**: 공공데이터가 100자 미만일 때
- **방식**: 공공데이터 + Gemini 보완
- **결과**: 구체적인 자격 요건과 예시

#### ✅ 지원 내용 (Benefit)
- **조건**: 공공데이터가 150자 미만일 때
- **방식**: 공공데이터 + Gemini 보완
- **결과**: 상세한 혜택 설명과 활용 방법

---

### 2. **공공데이터 기반 자동 생성 섹션** (Gemini 사용 안 함)

#### 📊 정책 분석 (Analysis)
- **생성 함수**: `generateAnalysis()`
- **방식**: 공공데이터 분석 기반
- **내용**:
  - 금액 규모 분석
  - 지원 대상 분석
  - 지원 형태 분석 (현금/바우처 등)
  - 카테고리별 특성 분석
  - 주요 인사이트

#### 💡 실전 팁 (Tips)
- **생성 함수**: `generateTips()`
- **방식**: 공공데이터 기반 실용적 팁 생성
- **내용**:
  - 신청 전 준비사항
  - 신청 시 유의사항
  - 서류 준비 팁
  - 신청 절차 팁
  - 결과 확인 방법

#### 📅 신청 일정 (Timeline)
- **생성 함수**: `generateTimeline()`
- **방식**: 공공데이터의 신청 기간 정보 기반
- **내용**:
  - 신청 기간 안내
  - 단계별 일정
  - 마감일 안내

#### ❓ FAQ (자주 묻는 질문)
- **생성 함수**: `generateFAQs()`
- **방식**: 공공데이터 기반 자동 생성
- **내용**:
  - 누가 받을 수 있나요?
  - 어떤 혜택을 받을 수 있나요?
  - 어떻게 신청하나요?
  - 필요한 서류는 무엇인가요?
  - 문의는 어디로 하나요?
  - 신청 기간이 정해져 있나요?
  - 언제 지급되나요?

---

## 🔄 재생성되는 섹션

### 매 페이지 로드 시마다 생성:
1. ✅ **핵심 요약** - 공공데이터 + (필요시) Gemini 보완
2. ✅ **지원 대상** - 공공데이터 + (필요시) Gemini 보완
3. ✅ **지원 내용** - 공공데이터 + (필요시) Gemini 보완
4. ✅ **정책 분석** - 공공데이터 분석 기반 자동 생성
5. ✅ **실전 팁** - 공공데이터 기반 자동 생성
6. ✅ **신청 일정** - 공공데이터 기반 자동 생성
7. ✅ **FAQ** - 공공데이터 기반 자동 생성

### 캐싱되지 않음:
- 모든 컨텐츠는 **매 요청마다 새로 생성**됩니다
- DB에 저장되지 않음 (실시간 생성)
- 공공데이터가 업데이트되면 자동으로 반영

---

## 💡 왜 "재생성"되는가?

### 이유 1: 실시간 생성
- 모든 컨텐츠는 `optimizeBenefitContent()` 함수에서 실시간 생성
- DB에 저장하지 않고 매번 새로 생성
- 공공데이터 변경 시 즉시 반영

### 이유 2: Gemini 보완
- 공공데이터가 부족한 경우 Gemini API 호출
- 매 요청마다 Gemini가 보완 내용 생성
- 동일한 공공데이터라도 Gemini 응답은 약간씩 다를 수 있음

### 이유 3: 공공데이터 분석
- `generateAnalysis()`, `generateTips()`, `generateTimeline()` 등
- 공공데이터를 분석하여 구조화된 컨텐츠 생성
- 매 요청마다 동일한 로직으로 생성 (결과는 동일)

---

## 🎯 확인 방법

### Gemini 보완 확인:
1. 페이지 접속
2. **핵심 요약** 섹션 확인
   - 200자 이상이면 Gemini 보완됨
   - 상세하고 사용자 친화적인 설명
3. **지원 대상** 섹션 확인
   - 100자 이상이면 Gemini 보완됨
   - 구체적인 자격 요건과 예시
4. **지원 내용** 섹션 확인
   - 150자 이상이면 Gemini 보완됨
   - 상세한 혜택 설명

### 공공데이터 기반 생성 확인:
1. **정책 분석** 섹션 확인
   - 금액 규모, 지원 대상, 카테고리 분석
   - 주요 인사이트 포함
2. **실전 팁** 섹션 확인
   - 신청 전/중/후 팁
   - 실용적인 조언
3. **FAQ** 섹션 확인
   - 6-7개의 자주 묻는 질문
   - 공공데이터 기반 답변

---

## ⚠️ 주의사항

### Gemini API 비용:
- 매 페이지 로드마다 Gemini API 호출 가능
- 공공데이터가 충분하면 Gemini 호출 안 함
- Vercel 함수 실행 시간 증가 가능

### 성능 최적화 (향후):
- 자주 방문하는 페이지는 캐싱 고려
- Gemini 보완 결과를 DB에 저장 후 재사용
- ISR (Incremental Static Regeneration) 활용

---

## 📊 현재 상태

✅ **구현 완료:**
- Gemini 하이브리드 보완 (요약, 대상, 내용)
- 공공데이터 기반 자동 생성 (분석, 팁, 일정, FAQ)
- 실시간 컨텐츠 생성

✅ **작동 중:**
- 모든 섹션이 매 요청마다 새로 생성됨
- 공공데이터 변경 시 즉시 반영
- Gemini 보완이 필요한 경우 자동 호출

